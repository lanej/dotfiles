# /etc/zshenv: user specific .zshenv file for zsh(1).
#
# Sourced on all invocations of the shell.
#
# Global Order: zshenv, zprofile, zshrc, zlogin

export OS=`uname -s`

export EDITOR="vim"
export PAGER="less"
export LESS="-RMin"
export EMAIL="me@joshualane.com"
export ARCH=`uname -m`

export IRCNICK='lanej'
export IRCSERVER='irc.freenode.net'

export SAVEHIST=9999
export HISTSIZE=9999
export HISTFILE=$HOME/.zsh_history
export HIST_EXPIRE_DUPS_FIRST=true
export GO15VENDOREXPERIMENT=1
export RI_PAGER='less -FX'
export XDG_CONFIG_HOME="$HOME/.config"

# git
export GIT_SSH="$HOME/.local/bin/git-ssh"

# xdg-derived, systemd file-hierarchy
if [[ -d "$HOME/.local/bin" ]]; then
	PATH="$HOME/.local/bin:$PATH"
fi

unset EDITOR
unset EDITORD

if [[ -s $(which nvim) ]]; then
	export EDITOR=nvim
elif [[ -s $(which vim) ]]; then
	export EDITOR=vim
else
	export EDITOR=vi
fi

if [ -d "$XDG_CONFIG_HOME/yarn/global/node_modules/.bin" ]; then
  export PATH="$XDG_CONFIG_HOME/yarn/global/node_modules/.bin:$PATH"
fi

if [ -d "$HOME/.yarn/bin" ]; then
  export PATH="$HOME/.yarn/bin:$PATH"
fi

if [ -d "$HOME/.cargo/bin" ]; then
  export PATH="$HOME/.cargo/bin:$PATH"
fi

if [ -d "$HOME/.luarocks/bin" ]; then
  export PATH="$HOME/.luarocks/bin:$PATH"
fi


if command -v fzf >/dev/null; then
	if command -v fd >/dev/null; then
		export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'
	fi

	unset FZF_DEFAULT_OPTS
	export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS'
	--prompt=\
	--cycle
	--no-info
	--color fg:#d8dee9,hl:#9cc9c2,fg+:#ffffff,bg+:238,hl+:#48a4ff,gutter:0
	--color pointer:#48a4ff,info:#48a4ff,spinner:#48a4ff,header:#48a4ff,prompt:#48a4ff,marker:#48a4ff
	--bind ctrl-j:preview-down,ctrl-k:preview-up
	'

	unset FZF_CTRL_R_OPTS
	export FZF_CTRL_R_OPTS=$FZF_DEFAULT_OPTS'--reverse
	--tiebreak=index
	+m
	-1
	'

fi


# go
export GOPATH=$HOME/go
export PATH=$GOPATH/bin:$PATH

export PATH="${HOME}/.local/bin:$PATH"
export BAT_THEME="1337"

export EDITORD=${EDITORD:-$EDITOR}
export JQ_COLORS="2;37:1;31:1;32:0;36:0;33:1;37:1;37"

# go
export GOPATH=$HOME/go
export PATH=$GOPATH/bin:$PATH
